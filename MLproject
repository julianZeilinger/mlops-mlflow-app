name: mlflow-test

docker_env:
  image: julianzeilinger/mlflow-test:latest

entry_points:
  main:
    command: "/bin/bash -c 'dvc pull && mlflow run . -e data_validation && mlflow run . -e preprocessing && mlflow run . -e feature_engineering && mlflow run . -e hyperparameter_tuning && mlflow run . -e training && mlflow run . -e evaluation'"

  data_validation:
    command: "python src/data_validation.py"

  preprocessing:
    command: "python src/preprocessing.py"

  feature_engineering:
    command: "python src/feature_engineering.py"

  hyperparameter_tuning:
    command: "python src/hyperparameter_tuning.py"

  training:
    command: "python src/train.py"

  evaluation:
    command: "python src/evaluate.py"
